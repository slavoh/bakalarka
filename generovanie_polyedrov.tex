\section{Generovanie polyédrov}
Metódy boli porovnávané na veľarozmerných polyédroch. 
Ako vhodná množina polyédrov boli zvolené náhodne generované polyédre.

\subsection{Definícia náhodných polyédrov}
Zadefinovať náhodný polyéder je samo o sebe zaujímavý problém. Ako jeden z možných spôsobov definovania prichádza do úvahy definovanie cez V--reprezentáciu polyédru, ako konvexný obal náhodných bodov v priestore. Táto definícia je síce nepresná, no poskytuje návod, ako aj možno takto definovaný polyéder generovať --- vygenerovať množinu bodov V--reprezentácie a následne, v prípade záujmu o zlepšenie efektivity, možno z danej množiny vyhodiť body neležiace na obale polyédra. Nepresnosť spomenutej definície spôsobuje dva zásadné problémy.
Po prvé, nie je jasné, koľko bodov polyédru je potrebné vygenerovať. Ak sa obmedzíme na vygenerovanie $v$ bodov, tak potom takto nemožno vygenerovať polyédre s viac ako $v$ vrcholmi. Na odstránenie tohoto problému by bolo nutné generovať číslo $v$ z nejakého pravdepodobne zložitého rozdelenia. 
Po druhé, závažnejší problém je, že nemožno generovať body v priestore rovnomerne náhodne. Už jednorozmerný prípad je problematický --- nemožno rovnomerne náhodne generovať reálne čísla. To súvisí s tým, že pri rovnomernom generovaní reálnych čísel na $(-\infty, \infty)$ majú sú všetky intervaly $(a,b)$ nulovú hustotu.

Ako druhý možný spôsob možno definovať náhodný polyéder pomocou H--reprezentácie, ako množinu bodov splňujúcu náhodnú množinu lineárnych obmedzení (nadrovín), pomocou náhodnej matice $A$ a náhodného vektoru $b$. Táto definícia nám tiež dáva návod, ako generovať polyédre. Stačí náhodne vygenerovať lineárne nerovnosti --- maticu $A$ a vektor $b$, polyéder bude množina bodov splňujúce nerovnosť $Ax\geq b$. Podobne aj pri tejto nepresnej definícii narazíme na problémy. Prvý problém je, že nie je jasné, koľko nerovností je potrebné vygenerovať. Analogický problému predchádzajúcej definície, ak sa obmedzíme na vygenerovanie $h$ nadrovín, tak potom takto nemožno vygenerovať polyédre s viac ako $h$ stenami.
Ďalší netriviálny problém je, ako náhodne zvoliť nadroviny? Nadrovina je definovaná otočením daným prislúchajúcim riadkom matice $A$ a posunutím daným prislúchajúcim prvkom vektoru $b$. Na to, aby sme dostali ľubovoľné natočenie nadroviny s rovnakou pravdepodobnosťou, stačí vygenerovať prvky matice nezávisle $A$ z normálneho rozdelenia, vďaka rotačnej symetrii normálneho rozdelenia bude každá nadrovina cez počiatok sústavy rovnako pravdepodobná. Avšak náhodne vygenerovať posunutie od počiatku nadroviny je úloha ekvivalentná rovnomernému vygenerovaniu reálneho čísla. Taktiež je pri tomto prístupe nutné overovať, či je vygenerovaný polyéder (množina bodov splňujúcich $Ax=b$) neprázdny.

Keďže zameranie práce nie na generovanie polyédrov ako také, ďalej v práci upustíme od formálnej definície náhodneho polyédra, uspokojíme sa s menšími nepresnosťami.\\

\subsection{Reprezentácia generovania polyédra}
Na generovanie bodov pomocou Metropolis--Hastings metód potrebujeme mať polyéder zadaný v H--reprezentácii, no REX algoritmus na nájdenie MVEE elipsoidu potrebuje ako vstup polyéder vo V--reprezentácii. Preto je nutné v rámci generovania vygenerovať polyéder zároveň v H--reprezentácii aj vo V--reprezentácii. Teda potrebujeme vygenerovať polyéder v jedenej reprezentácii a previesť ho do druhej. Daný prevod nie je súčasťou žiadnej metódy generovania bodov v polyédri, nebude súčasťou nášho generátora. Kedže bude pre každý polyéder spravený len raz, nie je nutné, aby bol rýchly.\\

%Pre účely porovnania budeme pracovať s polyédrom daným v oboch reprezentáciach, t.j. reprezentovaného ako sústavou lineárnych nerovníc, riešení systému $Ax \leq b$ ($x \in X$ ak $Ax \geq b$) a taktiež pomocou množiny vrcholov.

Poďme sa zamyslieť, v akej reprezentácii sa nám oplatí generovať polyéder. Teoreticky by sa nám mohlo stať, že pri prevode polyédra z jednej reprezentácie do druhej dostaneme až exponenciálne väčší zápis. T.j., že k jednej reprezentácii veľkosti $n$ by mohla prislúchať jej druhá reprezentácia (v minimálnej forme) veľkosti $\mathcal O(a^n)$ pre $a>1$. V danom prípade by algoritmy využívajúce väčšiu reprezentáciu boli značne znevýhodnené. Zišlo by sa nám ukázať, že niečo také nemôže nastať, t.j., že možno vzájomne polynomiálne odhadnúť veľkosti reprezentácii.

Kedže topologickú štruktúru polyédra možno zapísať ako planárny graf, možno jednoducho ukázať, že minimálna množina stien (nerovností) v H--reprezentácii a minimálna množina vrcholov vo V--reprezentácii sú asymptoticky rovnako veľké.
Presnejšie, medzi počtom stien $F$ a počtom vrcholov $V$ v polyédri platí vzťah $F+V=E-2$ (kde $E$ je počet hrán polyédra, ktorý možno odhadnúť $E \le 3V-6$ (pre $V>2$). \textbf{TODO odhad do opacnej strany}
Tým pádom by v rámci porovnania metód nemalo byť podstatné, či najprv náhodne vygenerujeme polyéder v H--reprezentácii, ktorú prevedieme do V--reprezentácie alebo či najprv vygenerujeme V--reprezentáciu, ktorú prevedieme do H--reprezentácie. V obidvoch prípadoch dostaneme asymptoticky rovnako veľké reprezentácie.
\textbf{TODO asi vyhodit cely odstavec}\\

Ako alternatíva ku generovaniu polyédrov v jednej reprezentácii a prevádzaniu do druhej reprezentácie možno porovnávať metódy aj inak. 
Predpokladajme, že máme generátor $G_H$ polyédrov v H--reprezentácii a generátor $G_V$ polyédrov vo V--reprezentácii, pričom $G_H$ a $G_V$ generujú z rovnakého rozdelenia polyédrov.
Ak by sme testovali Metropolis--Hastings metódy na veľkom množstve polyédrov vygenerovaných pomocou $G_H$ a metódy využívajúce REX na veľkom množstve polyédrov vygenerovaných pomocou $G_V$, výsledky budú podobné ako keby sme spomínané metódy testovali na rovnakých polyédroch. \textbf{TODO v pripade potreby rozpisat}
Nakoľko nájdenie generátorov $G_H$ a $G_V$ s rovnakým rozdeleným polyédrov je potenciálne ťažší problém (už len zabezpečenie rovnakého rozdelenia obsahov polyédrov je netriviálne), tomuto prístupu sa z dôvodu obmedzenému časovému rámcu práce venovať nebudeme.\\

Ak máme danú aj stenovú aj vrcholovú reprezentáciu polyédra, ktoré nie sú nutne minimálne (vzhľadom na počet vrcholov vo V--reprezentácii a počet stien v H--reprezentácii), môžeme jednoducho dané reprezentácie minimalizovať odstránením prebytočných nadrovín a vrcholov. Z H--reprezentácie možno odstrániť tie nadroviny, ktoré neprechádzajú aspoň tromi bodmi z V--reprezentácie. Z V--reprezentácie možno odstrániť tie body, ktoré neležia na aspoň troch nadrovinách z H--reprezentácie. Takto získané reprezentácie sú zrejme s pravdepodobnosťou $1$ minimálne. \textbf{TODO v pripade potreby rozpisat}
Overiť, či bod $x$ leží na nadrovine danej vektorom $a$ a konštantou $c$ je triviálne, stačí overiť rovnosť $a^Tx=c$.

\subsubsection{Generovanie polyédru vo H--reprezentácii}

V rámci tejto práce je použitý algoritmus na generovanie náhodných polyédrov popísaný v \cite{may_random}. Výstupom algoritmu je polyéder v H--reprezentácii, taký, že každý bod má rovnakú pravdepodobnosť byť vnútri. 

Algoritmus využíva prístup Monte Carlo, funguje nasledovne: Najprv náhodne zvolí $m$ nadrovín $p_1, \dots, p_m$, tie rozdeľujú priestor na niekoľko nie nutne ohraničených oblastí.
Následne rovnomerne náhodne vygeneruje bod $c$ v priestore, ako polyéder $P_c$ zvolí oblasť vymedzenú priamkami $p_i$, v ktorej leží $c$.
Na záver overí, či je vygenerovaný polyéder $P_c$ ohraničený vopred zvolenou hyperkockou. Ak áno, tak vráti $P_c$. Ak nie je, tak daný polyéder zahodí a generuje znovu.

\begin{algorithm}[H]
	\caption{Generátor náhodných polyédrov \cite{may_random}}
	\label{generator-polyedrov}
	\begin{algorithmic}[1]
		\State Náhodne vyber bez návratu $n$ z $m+2n$ indexov obmedzení $i_1, i_2, \dots, i_n$
		\State Nastav $B=[p^{i_1}, p^{i_2}, \dots, p^{i_n}]^T$, zrejme $B^{-1}$ existuje s pravdepodobnosťou 1
		\State Nastav $V=B^{-1}[\Vert p^{i_1}\Vert ^2, \dots, \Vert p^{i_n}\Vert ^2]^T$
		\State Náhodne zvoľ $c \in \mathbb{R}^n$
		\State Nastav $y=c^TB^{-1}$, zvoľ nerovnosti $P_c$ nasledovne:
		\For {$i=0,1,\dots,n$} 
			\If {$y_i>0$}
				\State Nastav $i$--tu nerovnosť na $\ge$
			\Else
				\State Nastav $i$--tu nerovnosť na $\le$
			\EndIf
		\EndFor
		\If {$P_c$ nie je celý v hyperkocke}
			\State Zamietni polyéder $P_c$, vráť sa na $1$
		\Else
			\State Odstráň obmedzenia hyperkocky, vráť $P_c$
		\EndIf
	\end{algorithmic}
\end{algorithm}

Pri takomto generovaní v rámci $P_c$ získame nadroviny $p_i$, ktoré neobsahujú žiadnu stenu polyédra. Tieto nadroviny sú zrejme nadbytočné, preto ich môžeme odtiaľ odstrániť postupom popísaným vyššie.

V rámci práce sme kvôli rýchlosti programu na získanie V--reprezentácie z H--reprezentácie použili knižničné funkcie knižníc Polyhedra a CDDLib.

\section{Inicializácia algoritmov}

Na inicializáciu Metropolis--Hastings metód (Hit--and--Run generátora a aj Gibbsovho generátora) je potrebný akurát počiatočný bod vnútri polyédra. Ako počiatočný bod sme zvolili bod $c$ určený pri generovaní polyédra, ktorý je vygenerovaný v polyédri rovnomerne náhodne.
Na inicializáciu zamietacej metódy pomocou MVEE elipsoidu je potrebné vypočítať MVEE elipsoid. Pri inicializácii REX algoritmu je potrebné zvoliť počiatočný nosič tak, aby bola informačná matica $M$ regulárna. V rámci práce bol nosič počiatočného návrhu zvolený ako $n+4$ náhodných vrcholov. Vzhľadom na náhodnosť polyédra, dané vrcholy budú s pravdepodobnosťou $1$ určovať regulárnu maticu $M$.

\section{Porovnanie rýchlostí generovania}

\section{Najrýchlejší generátor}